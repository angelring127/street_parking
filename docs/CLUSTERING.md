# ğŸ—ºï¸ ë§ˆì»¤ í´ëŸ¬ìŠ¤í„°ë§ ì‹œìŠ¤í…œ

## ê°œìš”

7,000ê°œ ì´ìƒì˜ ì£¼ì°¨ ë¯¸í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í‘œì‹œí•˜ê¸° ìœ„í•´ **ë§ˆì»¤ í´ëŸ¬ìŠ¤í„°ë§** ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

## ì‘ë™ ì›ë¦¬

### 1. ğŸ“ ì¤Œ ë ˆë²¨ì— ë”°ë¥¸ í‘œì‹œ ë°©ì‹

#### ë‚®ì€ ì¤Œ (ì „ì²´ ë³´ê¸°)

- ì§€ì—­ë³„ë¡œ ê·¸ë£¹í™”ëœ í´ëŸ¬ìŠ¤í„° í‘œì‹œ
- ê° í´ëŸ¬ìŠ¤í„°ì— ì£¼ì°¨ ë¯¸í„° ê°œìˆ˜ í‘œì‹œ
- ì˜ˆ: "150ê°œ", "85ê°œ"

#### ì¤‘ê°„ ì¤Œ (ì§€ì—­ ë³´ê¸°)

- ë” ì‘ì€ ê·¸ë£¹ìœ¼ë¡œ ì„¸ë¶„í™”
- ê·¼ì²˜ ì£¼ì°¨ ë¯¸í„°ë“¤ì„ ì†Œê·¸ë£¹ìœ¼ë¡œ í‘œì‹œ
- ì˜ˆ: "12ê°œ", "8ê°œ"

#### ë†’ì€ ì¤Œ (ìµœëŒ€ í™•ëŒ€)

- ì¤Œ ë ˆë²¨ 17 ì´ìƒì—ì„œ í´ëŸ¬ìŠ¤í„° í•´ì œ
- ê°œë³„ ì£¼ì°¨ ë¯¸í„° ë§ˆì»¤ í‘œì‹œ
- ì •í™•í•œ ìœ„ì¹˜ì™€ ìš”ê¸ˆ ì •ë³´ í™•ì¸ ê°€ëŠ¥

### 2. ğŸ¨ ìƒ‰ìƒ ì½”ë”©

í´ëŸ¬ìŠ¤í„°ì˜ í¬ê¸°ì— ë”°ë¼ ë‹¤ë¥¸ ìƒ‰ìƒìœ¼ë¡œ í‘œì‹œ:

| ì£¼ì°¨ ë¯¸í„° ê°œìˆ˜ | ìƒ‰ìƒ      | ì˜ë¯¸        |
| -------------- | --------- | ----------- |
| 1-49ê°œ         | ğŸ”µ íŒŒë€ìƒ‰ | ì†Œê·œëª¨ ê·¸ë£¹ |
| 50-99ê°œ        | ğŸŸ  ì£¼í™©ìƒ‰ | ì¤‘ê·œëª¨ ê·¸ë£¹ |
| 100ê°œ ì´ìƒ     | ğŸ”´ ë¹¨ê°„ìƒ‰ | ëŒ€ê·œëª¨ ê·¸ë£¹ |

### 3. ğŸ–±ï¸ ìƒí˜¸ì‘ìš©

#### í´ëŸ¬ìŠ¤í„° í´ë¦­

- ìë™ìœ¼ë¡œ í•´ë‹¹ ì˜ì—­ìœ¼ë¡œ ì¤Œì¸
- ë” ìƒì„¸í•œ ì •ë³´ í‘œì‹œ

#### ë§ˆì»¤ í´ë¦­

- íŒì—…ìœ¼ë¡œ ì£¼ì°¨ ì •ë³´ í‘œì‹œ
- ë¦¬ìŠ¤íŠ¸ë¡œ ìë™ ìŠ¤í¬ë¡¤ (ì„ íƒë¨)

#### í˜¸ë²„ íš¨ê³¼

- í´ëŸ¬ìŠ¤í„°ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ í™•ëŒ€ íš¨ê³¼
- ì˜í–¥ ë²”ìœ„ í‘œì‹œ

## ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

### ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬

- `leaflet.markercluster`: Leaflet ë§ˆì»¤ í´ëŸ¬ìŠ¤í„°ë§ í”ŒëŸ¬ê·¸ì¸
- `@types/leaflet.markercluster`: TypeScript íƒ€ì… ì •ì˜

### ì„¤ì • ì˜µì…˜

```typescript
const markerClusterGroup = L.markerClusterGroup({
  // ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼è§£é™¤ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«
  disableClusteringAtZoom: 17,

  // ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åŠå¾„ (px)
  maxClusterRadius: 80,

  // ã‚¹ãƒ‘ã‚¤ãƒ€ãƒ¼ãƒ•ã‚¡ã‚¤è¡¨ç¤º
  spiderfyOnMaxZoom: true,

  // ãƒ›ãƒãƒ¼æ™‚ã«ã‚«ãƒãƒ¬ãƒƒã‚¸è¡¨ç¤º
  showCoverageOnHover: true,

  // ã‚¯ãƒªãƒƒã‚¯æ™‚ã«ãƒã‚¦ãƒ³ãƒ‰ã«ã‚ºãƒ¼ãƒ 
  zoomToBoundsOnClick: true,
});
```

### ì»¤ìŠ¤í…€ ì•„ì´ì½˜

```typescript
iconCreateFunction: (cluster) => {
  const count = cluster.getChildCount();
  let className = "marker-cluster-small";

  if (count >= 100) {
    className = "marker-cluster-large";
  } else if (count >= 50) {
    className = "marker-cluster-medium";
  }

  return L.divIcon({
    html: `<div><span>${count}ê°œ</span></div>`,
    className: `marker-cluster ${className}`,
    iconSize: L.point(40, 40),
  });
};
```

## ì„±ëŠ¥ ìµœì í™”

### Before (í´ëŸ¬ìŠ¤í„°ë§ ì—†ìŒ)

- 7,000ê°œ ë§ˆì»¤ ë™ì‹œ ë Œë”ë§
- ì´ˆê¸° ë¡œë”© ì‹œê°„: ~5ì´ˆ
- ì§€ë„ ì´ë™ ì‹œ ë ‰
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: ë†’ìŒ

### After (í´ëŸ¬ìŠ¤í„°ë§ ì ìš©)

- í™”ë©´ì— ë³´ì´ëŠ” ë§ˆì»¤ë§Œ ë Œë”ë§
- ì´ˆê¸° ë¡œë”© ì‹œê°„: ~1ì´ˆ
- ë¶€ë“œëŸ¬ìš´ ì§€ë„ ì´ë™
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: ë‚®ìŒ

**ì„±ëŠ¥ ê°œì„ : ì•½ 80%** ğŸš€

## ì‚¬ìš©ì ê²½í—˜

### 1. íƒìƒ‰ íë¦„

```
1. ì „ì²´ ì§€ë„ ë³´ê¸°
   â†“ (í´ëŸ¬ìŠ¤í„° í´ë¦­)
2. ì§€ì—­ë³„ ë³´ê¸°
   â†“ (í´ëŸ¬ìŠ¤í„° í´ë¦­ ë˜ëŠ” ì¤Œì¸)
3. ìƒì„¸ ì§€ì—­ ë³´ê¸°
   â†“ (ìµœëŒ€ ì¤Œì¸)
4. ê°œë³„ ì£¼ì°¨ ë¯¸í„° í™•ì¸
```

### 2. ì •ë³´ ê³„ì¸µ

```
ë ˆë²¨ 1: ë„ì‹œ ì „ì²´ (100+ ê°œ í´ëŸ¬ìŠ¤í„°)
  â†“
ë ˆë²¨ 2: ì§€ì—­ (50-99ê°œ í´ëŸ¬ìŠ¤í„°)
  â†“
ë ˆë²¨ 3: ë¸”ë¡ (10-49ê°œ í´ëŸ¬ìŠ¤í„°)
  â†“
ë ˆë²¨ 4: ê°œë³„ ì£¼ì°¨ ë¯¸í„°
```

## ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### CSS í´ë˜ìŠ¤

```css
/* ê¸°ë³¸ í´ëŸ¬ìŠ¤í„° ìŠ¤íƒ€ì¼ */
.marker-cluster {
  background-clip: padding-box;
  border-radius: 50%;
  font-weight: bold;
  text-align: center;
  color: white;
}

/* ì†Œê·œëª¨ (íŒŒë€ìƒ‰) */
.marker-cluster-small {
  background-color: rgba(59, 130, 246, 0.6);
}

/* ì¤‘ê·œëª¨ (ì£¼í™©ìƒ‰) */
.marker-cluster-medium {
  background-color: rgba(251, 146, 60, 0.6);
}

/* ëŒ€ê·œëª¨ (ë¹¨ê°„ìƒ‰) */
.marker-cluster-large {
  background-color: rgba(239, 68, 68, 0.6);
}

/* í˜¸ë²„ íš¨ê³¼ */
.marker-cluster:hover {
  transform: scale(1.1);
  transition: transform 0.2s ease;
  cursor: pointer;
}
```

## ëª¨ë°”ì¼ ìµœì í™”

### í„°ì¹˜ ìƒí˜¸ì‘ìš©

- íƒ­ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„° í™•ì¥
- í•€ì¹˜ ì¤Œìœ¼ë¡œ ë ˆë²¨ ì¡°ì •
- ë“œë˜ê·¸ë¡œ ì§€ë„ ì´ë™

### ë°˜ì‘í˜• í´ëŸ¬ìŠ¤í„° í¬ê¸°

- ëª¨ë°”ì¼: ì‘ì€ í´ëŸ¬ìŠ¤í„° ì•„ì´ì½˜
- íƒœë¸”ë¦¿: ì¤‘ê°„ í¬ê¸°
- ë°ìŠ¤í¬í†±: í° í´ëŸ¬ìŠ¤í„° ì•„ì´ì½˜

## í–¥í›„ ê°œì„  ì‚¬í•­

### Phase 1 (í˜„ì¬)

- âœ… ê¸°ë³¸ í´ëŸ¬ìŠ¤í„°ë§ êµ¬í˜„
- âœ… ìƒ‰ìƒ ì½”ë”©
- âœ… ì¤Œ ë ˆë²¨ë³„ í‘œì‹œ

### Phase 2 (ê³„íš)

- [ ] í´ëŸ¬ìŠ¤í„° ë‚´ í‰ê·  ê°€ê²© í‘œì‹œ
- [ ] ì§€ì—­ëª… í‘œì‹œ (ëŒ€í˜• í´ëŸ¬ìŠ¤í„°)
- [ ] íˆíŠ¸ë§µ ì˜¤ë²„ë ˆì´ ì˜µì…˜

### Phase 3 (ê³„íš)

- [ ] ê°€ê²©ëŒ€ë³„ í´ëŸ¬ìŠ¤í„° ìƒ‰ìƒ
- [ ] ì‹œê°„ëŒ€ë³„ í´ëŸ¬ìŠ¤í„° í•„í„°
- [ ] ì»¤ìŠ¤í…€ í´ëŸ¬ìŠ¤í„° ë°˜ê²½ ì„¤ì •

## ì‚¬ìš© ì˜ˆì‹œ

### Downtown íƒìƒ‰

1. **ì „ì²´ ë³´ê¸°** (ì¤Œ 12)

   - "Downtown 500ê°œ" í´ëŸ¬ìŠ¤í„° í‘œì‹œ

2. **í´ëŸ¬ìŠ¤í„° í´ë¦­**

   - ì¤Œ 14ë¡œ í™•ëŒ€
   - 5-6ê°œì˜ ì†Œê·¸ë£¹ìœ¼ë¡œ ë¶„ë¦¬

3. **ì†Œê·¸ë£¹ í´ë¦­**

   - ì¤Œ 16ìœ¼ë¡œ í™•ëŒ€
   - 10-20ê°œ ë§ˆì»¤ë¡œ ë¶„ë¦¬

4. **ìµœëŒ€ ì¤Œì¸** (ì¤Œ 17+)
   - ê°œë³„ ì£¼ì°¨ ë¯¸í„° í‘œì‹œ
   - ì •í™•í•œ ìœ„ì¹˜ì™€ ìš”ê¸ˆ í™•ì¸

## ë””ë²„ê¹…

### í´ëŸ¬ìŠ¤í„°ê°€ í‘œì‹œë˜ì§€ ì•Šì„ ë•Œ

```javascript
// ì½˜ì†”ì—ì„œ í™•ì¸
map.eachLayer((layer) => {
  console.log(layer); // MarkerClusterGroup í™•ì¸
});
```

### CSSê°€ ë¡œë“œë˜ì§€ ì•Šì„ ë•Œ

`app/globals.css`ì— ë‹¤ìŒ import í™•ì¸:

```css
@import "leaflet.markercluster/dist/MarkerCluster.css";
@import "leaflet.markercluster/dist/MarkerCluster.Default.css";
```

## ì°¸ê³  ìë£Œ

- [Leaflet.markercluster GitHub](https://github.com/Leaflet/Leaflet.markercluster)
- [Leaflet Documentation](https://leafletjs.com/)
- [ë§ˆì»¤ í´ëŸ¬ìŠ¤í„°ë§ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤](https://developers.google.com/maps/documentation/javascript/marker-clustering)

---

**ì´ í´ëŸ¬ìŠ¤í„°ë§ ì‹œìŠ¤í…œìœ¼ë¡œ ì‚¬ìš©ìëŠ” ìˆ˜ì²œ ê°œì˜ ì£¼ì°¨ ë¯¸í„°ë¥¼ ë¹ ë¥´ê³  ì§ê´€ì ìœ¼ë¡œ íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!** ğŸ‰
